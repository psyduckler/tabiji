<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How Basic Is Your Bucket List? | tabiji.ai</title>
<meta name="description" content="Find out if your travel bucket list is basic or legendary. A quiz by tabiji.ai">
<meta property="og:title" content="How Basic Is Your Bucket List? | tabiji.ai">
<meta property="og:description" content="Find out if your travel bucket list is basic or legendary.">
<meta property="og:url" content="https://tabiji.ai/quiz/">
<meta property="og:type" content="website">
<meta property="og:image" content="https://tabiji.ai/apple-touch-icon.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--indigo:#1a365d;--terracotta:#c4704b;--cream:#faf6f1;--sand:#e8ddd3;--dark:#1a1a1a;--light-text:#6b5c4d}
body{font-family:'Inter',sans-serif;background:var(--cream);color:var(--dark);min-height:100vh;overflow-x:hidden}
.screen{display:none;min-height:100vh;flex-direction:column;align-items:center;justify-content:center;padding:24px}
.screen.active{display:flex}

/* Splash */
.splash{text-align:center;gap:32px}
.splash h1{font-family:'Playfair Display',serif;font-size:clamp(2rem,6vw,3.5rem);font-weight:900;color:var(--indigo);line-height:1.15;max-width:600px}
.splash p{color:var(--light-text);font-size:1.1rem;max-width:420px}
.splash .subtitle{font-size:0.95rem;color:var(--terracotta);font-weight:500;letter-spacing:0.5px;text-transform:uppercase;margin-bottom:-16px}
.btn{background:var(--indigo);color:#fff;border:none;padding:16px 48px;border-radius:50px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .2s;font-family:'Inter',sans-serif}
.btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(26,54,93,.25)}
.btn:active{transform:translateY(0)}
.brand{font-family:'Playfair Display',serif;font-size:1rem;color:var(--terracotta);font-weight:700}

/* Quiz */
.quiz{gap:24px;padding-top:40px}
.progress-wrap{width:100%;max-width:500px}
.progress-bar{height:4px;background:var(--sand);border-radius:4px;overflow:hidden}
.progress-fill{height:100%;background:var(--terracotta);transition:width .4s ease;width:0}
.progress-text{text-align:center;margin-top:8px;font-size:0.85rem;color:var(--light-text)}
.card-container{position:relative;width:100%;max-width:440px;height:520px}
.card{position:absolute;inset:0;border-radius:20px;overflow:hidden;background:#fff;box-shadow:0 8px 40px rgba(0,0,0,.12);transition:transform .45s ease,opacity .45s ease;will-change:transform,opacity}
.card.exit-left{transform:translateX(-120%) rotate(-8deg);opacity:0}
.card.exit-right{transform:translateX(120%) rotate(8deg);opacity:0}
.card.enter{transform:translateX(60px);opacity:0}
.card img{width:100%;height:380px;object-fit:cover}
.card-info{padding:20px 24px;text-align:center}
.card-info h2{font-family:'Playfair Display',serif;font-size:1.6rem;color:var(--indigo);margin-bottom:4px}
.card-info span{color:var(--light-text);font-size:0.9rem}
.actions{display:flex;gap:24px;margin-top:8px}
.action-btn{width:64px;height:64px;border-radius:50%;border:2px solid var(--sand);background:#fff;font-size:1.8rem;cursor:pointer;transition:all .15s;display:flex;align-items:center;justify-content:center}
.action-btn:hover{transform:scale(1.12)}
.action-btn.yes{border-color:var(--terracotta);color:var(--terracotta)}
.action-btn.yes:hover{background:var(--terracotta);color:#fff}
.action-btn.no{border-color:#aaa;color:#999}
.action-btn.no:hover{background:#eee}

/* Results */
.results{gap:24px;text-align:center;padding-bottom:60px}
.result-card{background:#fff;border-radius:20px;padding:40px 32px;max-width:440px;width:100%;box-shadow:0 8px 40px rgba(0,0,0,.1)}
.result-card .label{font-size:0.8rem;text-transform:uppercase;letter-spacing:1.5px;color:var(--terracotta);font-weight:600;margin-bottom:8px}
.result-card h2{font-family:'Playfair Display',serif;font-size:clamp(1.6rem,5vw,2.2rem);color:var(--indigo);margin-bottom:4px}
.result-card .percentile{font-size:3rem;font-weight:900;color:var(--terracotta);font-family:'Playfair Display',serif;margin:8px 0}
.result-card .desc{color:var(--light-text);font-size:1rem;line-height:1.6;margin:12px 0 20px}
.result-card .picks{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-bottom:16px}
.result-card .pick{background:var(--cream);padding:6px 14px;border-radius:20px;font-size:0.85rem;color:var(--indigo);font-weight:500}
.result-card .brand-footer{margin-top:16px;padding-top:16px;border-top:1px solid var(--sand)}
.share-btns{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:8px}
.share-btn{padding:12px 28px;border-radius:50px;font-size:0.95rem;font-weight:600;cursor:pointer;border:2px solid var(--indigo);background:transparent;color:var(--indigo);transition:all .2s;font-family:'Inter',sans-serif}
.share-btn:hover{background:var(--indigo);color:#fff}
.cta-box{max-width:440px;width:100%;background:var(--indigo);color:#fff;border-radius:16px;padding:28px;text-align:center}
.cta-box h3{font-family:'Playfair Display',serif;font-size:1.3rem;margin-bottom:8px}
.cta-box p{opacity:.8;font-size:0.95rem;margin-bottom:16px}
.cta-box .btn{background:#fff;color:var(--indigo)}
.retake{background:none;border:none;color:var(--light-text);cursor:pointer;font-size:0.9rem;text-decoration:underline;margin-top:8px;font-family:'Inter',sans-serif}

/* Mobile */
@media(max-width:480px){
  .card-container{height:460px}
  .card img{height:320px}
  .result-card{padding:28px 20px}
}
</style>
</head>
<body>

<!-- SPLASH -->
<div class="screen splash active" id="splash">
  <div class="brand">tabiji.ai</div>
  <div class="subtitle">Travel personality quiz</div>
  <h1>How Basic Is Your Bucket List?</h1>
  <p>Pick your dream destinations. We'll judge you accordingly.</p>
  <button class="btn" onclick="startQuiz()">Find Out â†’</button>
</div>

<!-- QUIZ -->
<div class="screen quiz" id="quiz">
  <div class="progress-wrap">
    <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
    <div class="progress-text" id="progressText">1 / 20</div>
  </div>
  <div class="card-container" id="cardContainer"></div>
  <div class="actions">
    <button class="action-btn no" onclick="answer(false)" aria-label="Pass">âœ•</button>
    <button class="action-btn yes" onclick="answer(true)" aria-label="Bucket list">âœ“</button>
  </div>
</div>

<!-- RESULTS -->
<div class="screen results" id="results">
  <div class="result-card" id="resultCard">
    <div class="label">Your travel personality</div>
    <h2 id="resultTitle"></h2>
    <div class="percentile" id="resultPercentile"></div>
    <div class="label" style="margin-bottom:0">adventurousness percentile</div>
    <p class="desc" id="resultDesc"></p>
    <div id="resultPicks" class="picks"></div>
    <div class="brand-footer"><span class="brand">tabiji.ai</span></div>
  </div>
  <div class="share-btns">
    <button class="share-btn" onclick="downloadCard()">ðŸ“¥ Download</button>
    <button class="share-btn" onclick="copyLink()">ðŸ”— Copy Link</button>
  </div>
  <div class="cta-box">
    <h3>Ready to actually go?</h3>
    <p>tabiji plans your perfect trip â€” itinerary, restaurants, hidden gems.</p>
    <a href="https://tabiji.ai" class="btn" style="text-decoration:none;display:inline-block">Plan My Trip â†’</a>
  </div>
  <button class="retake" onclick="retake()">â†» Retake quiz</button>
</div>

<script>
const destinations = [
  {name:"Paris",region:"France",score:1,photo:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&q=80"},
  {name:"Bali",region:"Indonesia",score:2,photo:"https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=800&q=80"},
  {name:"Santorini",region:"Greece",score:2,photo:"https://images.unsplash.com/photo-1613395877344-13d4a8e0d49e?w=800&q=80"},
  {name:"New York",region:"USA",score:2,photo:"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=800&q=80"},
  {name:"Maldives",region:"Indian Ocean",score:2,photo:"https://images.unsplash.com/photo-1514282401047-d79a71a590e8?w=800&q=80"},
  {name:"Tokyo",region:"Japan",score:3,photo:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800&q=80"},
  {name:"Dubai",region:"UAE",score:3,photo:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=800&q=80"},
  {name:"Iceland",region:"Nordic",score:4,photo:"https://images.unsplash.com/photo-1504829857797-ddff29c27927?w=800&q=80"},
  {name:"Morocco",region:"North Africa",score:4,photo:"https://images.unsplash.com/photo-1489749798305-4fea3ae63d43?w=800&q=80"},
  {name:"Vietnam",region:"Southeast Asia",score:4,photo:"https://images.unsplash.com/photo-1528127269322-539801943592?w=800&q=80"},
  {name:"Croatia",region:"Europe",score:4,photo:"https://images.unsplash.com/photo-1555990538-1e6e49b78916?w=800&q=80"},
  {name:"Patagonia",region:"Argentina",score:5,photo:"https://images.unsplash.com/photo-1531761535209-180857e963b9?w=800&q=80"},
  {name:"Peru",region:"South America",score:5,photo:"https://images.unsplash.com/photo-1526392060635-9d6019884377?w=800&q=80"},
  {name:"Bhutan",region:"South Asia",score:7,photo:"https://images.unsplash.com/photo-1553856622-d1b352e24012?w=800&q=80"},
  {name:"Madagascar",region:"East Africa",score:7,photo:"https://images.unsplash.com/photo-1577023311546-cdc07a8454d9?w=800&q=80"},
  {name:"Faroe Islands",region:"Nordic",score:7,photo:"https://images.unsplash.com/photo-1529655683826-aba9b3e77383?w=800&q=80"},
  {name:"Svalbard",region:"Arctic Norway",score:8,photo:"https://images.unsplash.com/photo-1601440972598-26d04e650e0f?w=800&q=80"},
  {name:"Mongolia",region:"Central Asia",score:8,photo:"https://images.unsplash.com/photo-1545205597-3d9d02c29597?w=800&q=80"},
  {name:"Uzbekistan",region:"Central Asia",score:9,photo:"https://images.unsplash.com/photo-1565107928735-3663f6e6ec5b?w=800&q=80"},
  {name:"Socotra",region:"Yemen",score:10,photo:"https://images.unsplash.com/photo-1585829365295-ab7cd400c167?w=800&q=80"}
];

const categories = [
  {max:20,title:"Tourist Trap Connoisseur",desc:"You and 47 million other people will be at the Eiffel Tower this summer. At least you'll have good Instagram content."},
  {max:40,title:"Comfortable Explorer",desc:"You've heard of 'off the beaten path' but prefer the beaten path has good WiFi and a Marriott nearby."},
  {max:60,title:"Certified Interesting",desc:"Your bucket list makes for actually good dinner conversation. You've googled 'do I need a visa for...' at least once."},
  {max:80,title:"Off the Grid",desc:"You book flights to places your friends can't pronounce. Your travel insurance agent has you on speed dial."},
  {max:101,title:"Are You Okay?",desc:"Your bucket list reads like a list of places people go missing. You'd vacation on Mars if Elon let you. Respect."}
];

let current = 0;
let picks = [];
let shuffled = [];

function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

function startQuiz() {
  // Check for shared result in URL
  current = 0;
  picks = [];
  shuffled = shuffle(destinations);
  document.getElementById('splash').classList.remove('active');
  document.getElementById('quiz').classList.add('active');
  showCard();
}

function showCard() {
  if (current >= shuffled.length) return showResults();
  const d = shuffled[current];
  const container = document.getElementById('cardContainer');
  const pct = ((current) / shuffled.length) * 100;
  document.getElementById('progress').style.width = pct + '%';
  document.getElementById('progressText').textContent = `${current + 1} / ${shuffled.length}`;

  const card = document.createElement('div');
  card.className = 'card enter';
  card.innerHTML = `<img src="${d.photo}" alt="${d.name}" loading="eager"><div class="card-info"><h2>${d.name}</h2><span>${d.region}</span></div>`;
  container.innerHTML = '';
  container.appendChild(card);
  requestAnimationFrame(() => requestAnimationFrame(() => card.classList.remove('enter')));
}

function answer(yes) {
  if (current >= shuffled.length) return;
  const card = document.querySelector('.card');
  if (!card) return;
  card.classList.add(yes ? 'exit-right' : 'exit-left');
  if (yes) picks.push(shuffled[current]);
  current++;
  setTimeout(showCard, 300);
}

// Keyboard support
document.addEventListener('keydown', e => {
  if (!document.getElementById('quiz').classList.contains('active')) return;
  if (e.key === 'ArrowRight' || e.key === 'Enter') answer(true);
  if (e.key === 'ArrowLeft' || e.key === 'Backspace') answer(false);
});

// Swipe support
let touchStartX = 0;
document.addEventListener('touchstart', e => { touchStartX = e.touches[0].clientX; });
document.addEventListener('touchend', e => {
  if (!document.getElementById('quiz').classList.contains('active')) return;
  const diff = e.changedTouches[0].clientX - touchStartX;
  if (Math.abs(diff) > 60) answer(diff > 0);
});

function getPercentile(avgScore) {
  // Map average basicness score (1-10) to percentile (0-100)
  // Low avg = basic (low percentile), high avg = adventurous (high percentile)
  return Math.min(100, Math.max(0, Math.round((avgScore - 1) / 9 * 100)));
}

function showResults() {
  document.getElementById('quiz').classList.remove('active');
  document.getElementById('results').classList.add('active');
  document.getElementById('progress').style.width = '100%';

  let percentile, cat;
  if (picks.length === 0) {
    percentile = 50;
    cat = categories[2];
    document.getElementById('resultDesc').textContent = "You didn't pick anything. Either you've been everywhere or nowhere. We respect the mystery.";
  } else {
    const avg = picks.reduce((s, d) => s + d.score, 0) / picks.length;
    percentile = getPercentile(avg);
    cat = categories.find(c => percentile < c.max) || categories[4];
  }

  document.getElementById('resultTitle').textContent = cat.title;
  document.getElementById('resultPercentile').textContent = percentile + '%';
  if (picks.length > 0) document.getElementById('resultDesc').textContent = cat.desc;

  const picksEl = document.getElementById('resultPicks');
  picksEl.innerHTML = '';
  const topPicks = picks.slice(0, 5);
  topPicks.forEach(p => {
    const span = document.createElement('span');
    span.className = 'pick';
    span.textContent = p.name;
    picksEl.appendChild(span);
  });

  // Update URL
  const encoded = btoa(JSON.stringify({p: percentile, t: cat.title, picks: picks.map(d => d.name).slice(0, 5)}));
  history.replaceState(null, '', '?r=' + encoded);
}

function downloadCard() {
  const card = document.getElementById('resultCard');
  html2canvas(card, {scale: 2, backgroundColor: '#faf6f1', useCORS: true}).then(canvas => {
    const a = document.createElement('a');
    a.download = 'my-bucket-list-result.png';
    a.href = canvas.toDataURL('image/png');
    a.click();
  });
}

function copyLink() {
  navigator.clipboard.writeText(window.location.href).then(() => {
    const btn = event.target;
    btn.textContent = 'âœ“ Copied!';
    setTimeout(() => btn.textContent = 'ðŸ”— Copy Link', 2000);
  });
}

function retake() {
  history.replaceState(null, '', window.location.pathname);
  document.getElementById('results').classList.remove('active');
  startQuiz();
}

// Check for shared result on load
window.addEventListener('DOMContentLoaded', () => {
  const params = new URLSearchParams(window.location.search);
  const r = params.get('r');
  if (r) {
    try {
      const data = JSON.parse(atob(r));
      document.getElementById('splash').classList.remove('active');
      document.getElementById('results').classList.add('active');
      document.getElementById('resultTitle').textContent = data.t;
      document.getElementById('resultPercentile').textContent = data.p + '%';
      const cat = categories.find(c => data.p < c.max) || categories[4];
      document.getElementById('resultDesc').textContent = cat.desc;
      const picksEl = document.getElementById('resultPicks');
      picksEl.innerHTML = '';
      (data.picks || []).forEach(name => {
        const span = document.createElement('span');
        span.className = 'pick';
        span.textContent = name;
        picksEl.appendChild(span);
      });
    } catch(e) { /* invalid result, show splash */ }
  }
});
</script>

<!-- GA4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D7QHNRXLHJ"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-D7QHNRXLHJ');</script>
</body>
</html>
