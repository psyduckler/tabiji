<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-D7QHNRXLHJ"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-D7QHNRXLHJ');
    </script>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png">
    <title>4 Days in Mexico City ‚Äî Tacos, Markets &amp; Hidden Gems | tabiji.ai</title>
    <meta name="description" content="Your personalized Mexico City itinerary ‚Äî the best taquerias, markets, mezcal bars, and adventure spots for 4 unforgettable days in CDMX.">
    <meta property="og:title" content="4 Days in Mexico City ‚Äî tabiji.ai">
    <meta property="og:description" content="Your personalized Mexico City itinerary with specific restaurants, hidden gems, and local tips.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://tabiji.ai/i/warm-leaf/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="4 Days in Mexico City ‚Äî tabiji.ai">
    <meta name="twitter:description" content="Your personalized Mexico City itinerary with specific restaurants, hidden gems, and local tips.">
    <link rel="canonical" href="https://tabiji.ai/i/warm-leaf/">
    <meta name="robots" content="noindex, nofollow">
    <style>
        :root {
            --indigo: #2D3A5C;
            --indigo-light: #3D4E7A;
            --warm-cream: #F5F0E8;
            --sand: #E8DFD0;
            --earth: #8B7355;
            --earth-light: #A6906F;
            --terracotta: #C4704B;
            --deep-brown: #3E2F23;
            --sage: #7A8B6F;
            --white: #FEFCF9;
            --text: #2C2419;
            --text-muted: #6B5D4F;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            color: var(--text); background: var(--white); line-height: 1.6; overflow-wrap: break-word; word-wrap: break-word;
            -webkit-font-smoothing: antialiased;
        }
        nav { overflow: hidden;
            position: fixed; top: 0; width: 100%; z-index: 100;
            background: rgba(254, 252, 249, 0.92);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--sand);
            padding: 1rem 2rem;
            display: flex; justify-content: space-between; align-items: center;
        }
        .logo { font-size: 1.4rem; font-weight: 700; color: var(--indigo); text-decoration: none; letter-spacing: -0.02em; }
        .logo span { color: var(--terracotta); }
        nav a.cta-nav {
            background: var(--terracotta); color: white;
            padding: 0.5rem 1.2rem; border-radius: 8px;
            text-decoration: none; font-size: 0.9rem; font-weight: 500;
            transition: background 0.2s;
        }
        nav a.cta-nav:hover { background: #b5633f; }
        .hero {
            padding: 7rem 2rem 3rem;
            max-width: 800px; margin: 0 auto;
        }
        .hero-badge {
            display: inline-block;
            background: var(--sand); color: var(--earth);
            padding: 0.35rem 1rem; border-radius: 100px;
            font-size: 0.85rem; font-weight: 500;
            margin-bottom: 1.5rem;
        }
        .hero h1 {
            font-size: clamp(2rem, 4.5vw, 3rem);
            line-height: 1.15; font-weight: 800;
            color: var(--indigo);
            margin-bottom: 1rem;
            letter-spacing: -0.03em;
        }
        .hero h1 em {
            font-style: normal;
            background: linear-gradient(135deg, var(--terracotta), var(--earth));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .hero p {
            font-size: 1.1rem; color: var(--text-muted);
            max-width: 640px; margin-bottom: 1.5rem;
        }
        .hero-meta {
            display: flex; flex-wrap: wrap; gap: 1.5rem;
            font-size: 0.9rem; color: var(--earth);
            border-top: 1px solid var(--sand);
            padding-top: 1.5rem; margin-top: 0.5rem;
        }
        .hero-meta strong { color: var(--indigo); }
        .content-wrapper {
            max-width: 1100px; margin: 0 auto; padding: 2.5rem 2rem 0;
            display: flex; gap: 3rem; align-items: flex-start;
        }
        .content { flex: 1; min-width: 0; max-width: 800px; }
        .toc-sidebar {
            width: 220px; flex-shrink: 0;
            position: sticky; top: 80px;
            max-height: calc(100vh - 100px); overflow-y: auto;
        }
        .toc-sidebar h2 {
            font-size: 0.8rem; color: var(--text-muted); margin-bottom: 0.75rem;
            font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em;
        }
        .toc-sidebar ul { list-style: none; }
        .toc-sidebar li { margin-bottom: 0.4rem; }
        .toc-sidebar a {
            color: var(--earth); text-decoration: none; font-size: 0.85rem;
            transition: color 0.2s, border-color 0.2s;
            display: block; padding: 0.25rem 0 0.25rem 0.75rem;
            border-left: 2px solid transparent;
            line-height: 1.3;
        }
        .toc-sidebar a:hover { color: var(--terracotta); }
        .toc-sidebar a.active {
            color: var(--terracotta); border-left-color: var(--terracotta);
            font-weight: 600;
        }
        .toc-mobile-sticky {
            display: none;
            position: sticky; top: 0; z-index: 99;
            background: rgba(254, 252, 249, 0.92);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--sand);
            box-shadow: 0 2px 12px rgba(0,0,0,0.06);
        }
        .toc-mobile-toggle {
            width: 100%; padding: 0.7rem 1.2rem;
            display: flex; justify-content: space-between; align-items: center;
            background: none; border: none; cursor: pointer;
            font-family: inherit; font-size: 0.9rem; font-weight: 600;
            color: var(--indigo);
        }
        .toc-mobile-toggle .toc-active-label {
            flex: 1; text-align: left; white-space: nowrap;
            overflow: hidden; text-overflow: ellipsis; margin-right: 0.5rem;
        }
        .toc-mobile-toggle .toc-chevron {
            transition: transform 0.25s ease; font-size: 0.7rem; color: var(--earth);
        }
        .toc-mobile-sticky.open .toc-chevron { transform: rotate(180deg); }
        .toc-mobile-dropdown {
            max-height: 0; overflow: hidden;
            transition: max-height 0.3s ease;
            border-top: 1px solid var(--sand);
        }
        .toc-mobile-sticky.open .toc-mobile-dropdown {
            max-height: 60vh; overflow-y: auto;
        }
        .toc-mobile-dropdown ul { list-style: none; padding: 0.5rem 0; }
        .toc-mobile-dropdown a {
            display: block; padding: 0.55rem 1.2rem;
            color: var(--earth); text-decoration: none;
            font-size: 0.9rem; transition: background 0.15s, color 0.15s;
        }
        .toc-mobile-dropdown a:hover { background: var(--warm-cream); color: var(--terracotta); }
        .toc-mobile-dropdown a.active {
            color: var(--terracotta); font-weight: 600;
            background: rgba(196, 112, 75, 0.06);
        }
        @media (max-width: 900px) {
            .content-wrapper { flex-direction: column; gap: 0; }
            .toc-sidebar { display: none; }
            .toc-mobile-sticky { display: block; }
        }
        .essentials {
            background: var(--warm-cream); border-radius: 14px;
            padding: 2rem; margin-bottom: 3rem;
            border: 1px solid var(--sand);
        }
        .essentials h2 { font-size: 1.2rem; color: var(--indigo); margin-bottom: 1rem; }
        .essentials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        .essential-item h3 {
            font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.08em;
            color: var(--terracotta); font-weight: 600; margin-bottom: 0.3rem;
        }
        .essential-item p { font-size: 0.9rem; color: var(--text-muted); }
        .day {
            margin-bottom: 4rem;
            border-top: 3px solid var(--indigo);
            padding-top: 2rem;
        }
        .day-header {
            display: flex; align-items: baseline; gap: 1rem;
            margin-bottom: 0.5rem; flex-wrap: wrap;
        }
        .day-num {
            font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.1em;
            color: var(--terracotta); font-weight: 700;
            background: #FEF0E7; padding: 0.25rem 0.75rem; border-radius: 100px;
        }
        .day-neighborhoods { font-size: 0.85rem; color: var(--text-muted); }
        .day h2 {
            font-size: 1.6rem; font-weight: 700; color: var(--indigo);
            margin-bottom: 1.5rem; letter-spacing: -0.02em;
        }
        .time-block {
            
            padding-left: 1.5rem;
            border-left: 2px solid var(--sand);
        }
        .time-label {
            font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.08em;
            color: var(--terracotta); font-weight: 600; margin-bottom: 0.5rem;
        }
        .time-block h3 {
            font-size: 1.15rem; font-weight: 600; color: var(--indigo);
            margin-bottom: 0.4rem;
        }
        .time-block p {
            font-size: 0.95rem; color: var(--text-muted);
            margin-bottom: 0.5rem;
        }
        .spot-detail {
            font-size: 0.85rem; color: var(--earth);
            background: var(--warm-cream); padding: 0.5rem 0.75rem;
            border-radius: 8px; margin-top: 0.5rem;
            display: inline-block;
        }
        .spot-detail + .spot-detail { margin-left: 0.5rem; }
        .meal-card {
            background: var(--warm-cream); border-radius: 12px;
            padding: 1.25rem 1.5rem; margin: 0.75rem 0;
            border: 1px solid var(--sand);
        }
        .meal-card .meal-name { font-weight: 600; color: var(--indigo); font-size: 1rem; }
        .meal-card .meal-type {
            font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.08em;
            color: var(--terracotta); font-weight: 600;
        }
        .meal-card .meal-desc { font-size: 0.9rem; color: var(--text-muted); margin-top: 0.3rem; }
        .meal-card .meal-meta { font-size: 0.8rem; color: var(--earth); margin-top: 0.4rem; }
        .tip {
            background: #E8F0E4; border-radius: 10px;
            padding: 1rem 1.25rem; margin: 1rem 0;
            font-size: 0.9rem; color: var(--text);
        }
        .tip::before { content: "üí° "; }
        .reddit-tip {
            background: #FEF0E7; border-left: 3px solid var(--terracotta);
            border-radius: 0 10px 10px 0;
            padding: 1rem 1.25rem; margin: 1rem 0;
            font-size: 0.9rem; color: var(--text); font-style: italic;
        }
        .reddit-tip cite {
            display: block; margin-top: 0.4rem;
            font-style: normal; font-size: 0.8rem; color: var(--earth);
        }
        .budget-table-wrapper { max-width: 100%;
            overflow-x: auto; -webkit-overflow-scrolling: touch;
            margin: 1.5rem 0;
        }
        .budget-table {
            width: 100%; border-collapse: collapse; min-width: 480px;
            font-size: 0.9rem;
        }
        .budget-table th {
            text-align: left; padding: 0.6rem 0.75rem;
            background: var(--terracotta); color: white;
            font-weight: 600; font-size: 0.8rem;
            text-transform: uppercase; letter-spacing: 0.05em;
        }
        .budget-table td {
            padding: 0.5rem 0.75rem;
            border-bottom: 1px solid var(--sand);
            color: var(--text-muted);
        }
        .budget-table tr:last-child td {
            font-weight: 700; color: var(--indigo);
            border-bottom: none; border-top: 2px solid var(--indigo);
        }
        .final-cta {
            text-align: center; background: var(--indigo);
            padding: 5rem 2rem; margin-top: 3rem;
        }
        .final-cta h2 {
            font-size: clamp(1.6rem, 3.5vw, 2.2rem);
            font-weight: 700; color: var(--warm-cream);
            margin-bottom: 0.75rem;
        }
        .final-cta p {
            font-size: 1.05rem; color: rgba(245, 240, 232, 0.8);
            max-width: 550px; margin: 0 auto 2rem;
        }
        .final-cta a.cta-btn {
            display: inline-block;
            background: var(--terracotta); color: white;
            padding: 0.9rem 2.5rem; border-radius: 10px;
            text-decoration: none; font-size: 1.1rem; font-weight: 600;
            box-shadow: 0 4px 14px rgba(196, 112, 75, 0.4);
            transition: transform 0.15s;
        }
        .final-cta a.cta-btn:hover { transform: translateY(-2px); }
        .final-cta .sub {
            margin-top: 0.75rem; font-size: 0.85rem;
            color: rgba(245, 240, 232, 0.6);
        }
        footer {
            padding: 3rem 2rem; text-align: center;
            border-top: 1px solid var(--sand);
            color: var(--text-muted); font-size: 0.85rem;
        }
        .day-map {
            width: 100%; height: 450px; border-radius: 14px;
            margin: 1.5rem 0 2rem; border: 1px solid var(--sand);
            z-index: 1; overflow: hidden;
        }
        @media (max-width: 768px) {
            nav { overflow: hidden; padding: 0.8rem 1.2rem; }
            .hero { padding: 6rem 1.5rem 2rem; }
            .content-wrapper { padding: 0 1rem; }
            .time-block { padding-left: 1rem; }
            .spot-detail + .spot-detail { margin-left: 0; margin-top: 0.3rem; }
            .day-map { height: 350px; }
        }
        .nav-links {
    display: flex;
    gap: 1.5rem;
    align-items: center;
}

.hamburger {
            display: none;
            background: none;
            border: none;
        .nav-links { display: flex; gap: 1.5rem; align-items: center; }
            font-size: 1.5rem;
            color: var(--indigo);
            cursor: pointer;
        }
        @media (max-width: 768px) {
            .nav-links {
    display: flex;
    gap: 1.5rem;
    align-items: center;
}

.hamburger { display: block; }
            .nav-links {
                display: none;
                position: absolute;
        .nav-links { display: flex; gap: 1.5rem; align-items: center; }
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(254, 252, 249, 0.98);
                backdrop-filter: blur(20px);
                border-bottom: 1px solid var(--sand);
                padding: 1rem 1.5rem;
                flex-direction: column;
                gap: 1rem;
            }
            .nav-links.open { display: flex; }
            nav a.cta-nav { text-align: center; }
        }
    </style>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "4 Days in Mexico City: Tacos, Markets & Hidden Gems",
        "description": "Your personalized Mexico City itinerary with specific restaurants, hidden gems, and local tips.",
        "author": { "@type": "Organization", "name": "tabiji.ai", "url": "https://tabiji.ai" },
        "publisher": { "@type": "Organization", "name": "tabiji.ai", "url": "https://tabiji.ai" },
        "datePublished": "2026-02-14",
        "dateModified": "2026-02-14",
        "mainEntityOfPage": "https://tabiji.ai/i/warm-leaf/"
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TouristTrip",
        "name": "4 Days in Mexico City",
        "description": "Your personalized Mexico City itinerary with specific restaurants, hidden gems, and local tips.",
        "touristType": ["Food Tourism", "Adventure Tourism", "Cultural Tourism"],
        "itinerary": {
            "@type": "ItemList",
            "numberOfItems": 4,
            "itemListElement": [
                { "@type": "ListItem", "position": 1, "name": "Day 1: Centro Hist√≥rico ‚Äî Ancient Ruins, Street Tacos & Mezcal" },
                { "@type": "ListItem", "position": 2, "name": "Day 2: Roma Norte ¬∑ Condesa ‚Äî Coffee, Art Deco & Al Pastor" },
                { "@type": "ListItem", "position": 3, "name": "Day 3: Coyoac√°n ¬∑ Xochimilco ‚Äî Frida, Floating Gardens & Pulque" },
                { "@type": "ListItem", "position": 4, "name": "Day 4: Chapultepec ¬∑ Polanco ‚Äî Museum, Castle & Fine Dining" }
            ]
        }
    }
    </script>
</head>
<body>

<nav>
    <a href="/" class="logo"><img src="/logo-kanji-only.png" alt="tabiji.ai" style="height:32px;vertical-align:middle;margin-right:6px;">tabiji<span>.ai</span></a>
    <button class="hamburger" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Menu">‚ò∞</button>
    <div class="nav-links">
        <a href="/plan" class="cta-nav">Get Your Free Custom Itinerary</a>
    </div>
</nav>

<section class="hero">
    <div class="hero-badge">üá≤üáΩ Your Custom Itinerary</div>
    <h1>4 Days in Mexico City: <em>Tacos, Markets &amp; Hidden Gems</em></h1>
    <p>From ancient Aztec temples to rooftop mezcal bars, this is your personalized guide to CDMX ‚Äî with real restaurant names, exact addresses, and local-only tips.</p>
    <div class="hero-meta">
        <div><strong>Duration:</strong> 4 days / 3 nights</div>
        <div><strong>Dates:</strong> May 21‚Äì25, 2026</div>
        <div><strong>Budget:</strong> ~$60‚Äì120 USD/day</div>
        <div><strong>Pace:</strong> Medium-high</div>
        <div><strong>Best for:</strong> Foodies &amp; adventurers</div>
    </div>
</section>

<div class="toc-mobile-sticky">
    <button class="toc-mobile-toggle" aria-expanded="false" aria-controls="toc-mobile-dropdown">
        <span class="toc-active-label">üìç Jump to...</span>
        <span class="toc-chevron">‚ñº</span>
    </button>
    <div class="toc-mobile-dropdown" id="toc-mobile-dropdown">
        <ul>
            <li><a href="#essentials" data-section="essentials">‚ö° Essentials</a></li>
        <li><a href="#day1" data-section="day1">Day 1: Centro Hist√≥rico</a></li>
        <li><a href="#day2" data-section="day2">Day 2: Roma ¬∑ Condesa</a></li>
        <li><a href="#day3" data-section="day3">Day 3: Coyoac√°n ¬∑ Xochimilco</a></li>
        <li><a href="#day4" data-section="day4">Day 4: Chapultepec ¬∑ Polanco</a></li>
        <li><a href="#budget" data-section="budget">üí∞ Budget</a></li>
        <li><a href="#practical" data-section="practical">üìã Practical Info</a></li>
        </ul>
    </div>
</div>

<div class="content-wrapper">

<aside class="toc-sidebar" id="toc-sidebar">
    <h2>Itinerary</h2>
    <ul>
        <li><a href="#essentials" data-section="essentials">‚ö° Essentials</a></li>
        <li><a href="#day1" data-section="day1">Day 1: Centro Hist√≥rico</a></li>
        <li><a href="#day2" data-section="day2">Day 2: Roma ¬∑ Condesa</a></li>
        <li><a href="#day3" data-section="day3">Day 3: Coyoac√°n ¬∑ Xochimilco</a></li>
        <li><a href="#day4" data-section="day4">Day 4: Chapultepec ¬∑ Polanco</a></li>
        <li><a href="#budget" data-section="budget">üí∞ Budget</a></li>
        <li><a href="#practical" data-section="practical">üìã Practical Info</a></li>
    </ul>
</aside>

<div class="content">
<div class="essentials" id="essentials">
        <h2>‚ö° Before You Go ‚Äî Essentials</h2>
        <div class="essentials-grid">
            <div class="essential-item"><h3>Get Uber/Didi</h3><p>Download both apps. Uber works great in CDMX. Didi is the local alternative and often cheaper. Rides across the city are $2‚Äì5 USD.</p></div>
            <div class="essential-item"><h3>Cash is King</h3><p>Street food and markets are cash-only. Withdraw pesos at bank ATMs (Citibanamex, HSBC) ‚Äî avoid airport exchange desks.</p></div>
            <div class="essential-item"><h3>Meal Timing</h3><p>Comida (main meal) is 14:00‚Äì16:00. Dinner starts at 20:00+. Street tacos peak at 21:00‚Äìmidnight.</p></div>
            <div class="essential-item"><h3>Altitude Warning</h3><p>CDMX sits at 2,240m (7,350ft). Stay hydrated, go easy on alcohol day one, and expect to get winded on stairs.</p></div>
        </div>
    </div>

    <!-- DAY 1 -->
    <div class="day" id="day1">
        <div class="day-header">
            <span class="day-num">Day 1</span>
            <span class="day-neighborhoods">Centro Hist√≥rico</span>
        </div>
        <h2>Ancient Ruins, Street Tacos &amp; Mezcal</h2>
        <p style="color:var(--text-muted);margin-bottom:2rem;">Your first day is about the historic core ‚Äî Aztec ruins, colonial grandeur, and some of the best street food on the planet.</p>

        <div class="time-block">
            <div class="time-label">üåÖ Morning ‚Äî Z√≥calo &amp; Templo Mayor</div>
            <h3>Explore the Heart of the City</h3>
            <p>Start at the Z√≥calo, one of the world's largest public plazas. Walk into the Palacio Nacional (free, bring ID) to see Diego Rivera's epic murals spanning Mexican history. Then head next door to Templo Mayor ‚Äî the excavated main temple of the Aztec capital Tenochtitl√°n, sitting right in the middle of the modern city.</p>
            <div class="spot-detail">üìç Z√≥calo ‚Äî Plaza de la Constituci√≥n</div>
            <div class="spot-detail">üéüÔ∏è Templo Mayor: $85 MXN (~$5 USD)</div>
            <div class="meal-card">
                <div class="meal-type">BREAKFAST</div>
                <div class="meal-name">Caf√© de Tacuba</div>
                <div class="meal-desc">Operating since 1912 in a stunning colonial building. Try the chilaquiles verdes or enchiladas ‚Äî the hot chocolate is legendary.</div>
                <div class="meal-meta">$150‚Äì250 MXN ¬∑ Calle de Tacuba 28, Centro Hist√≥rico</div>
            </div>
            <div class="tip">The Palacio Nacional opens at 10am. Arrive by 9:45 to beat the line. It's free but you need a photo ID.</div>
        </div>

        <div class="time-block">
            <div class="time-label">‚òÄÔ∏è Afternoon ‚Äî Markets &amp; Palaces</div>
            <h3>Palacio de Bellas Artes &amp; Mercado San Juan</h3>
            <p>Walk to the jaw-dropping Palacio de Bellas Artes ‚Äî even if you skip the museum, the Art Nouveau/Art Deco building itself is stunning. Then head to Mercado San Juan, the city's legendary gourmet market. This is where chefs shop ‚Äî you'll find imported cheeses, exotic meats, and incredible seafood tostadas.</p>
            <div class="spot-detail">üìç Palacio de Bellas Artes ‚Äî Av. Ju√°rez</div>
            <div class="spot-detail">üìç Mercado San Juan ‚Äî Ernesto Pugibet 21</div>
            <div class="meal-card">
                <div class="meal-type">LUNCH ‚Äî MARKET CRAWL</div>
                <div class="meal-name">Mercado San Juan</div>
                <div class="meal-desc">Grab seafood tostadas at the yellow-walled stand near the entrance. Try the tuna tostada and ceviche. Then wander ‚Äî sample queso Oaxaca, chapulines (grasshoppers!), and fresh juices.</div>
                <div class="meal-meta">$80‚Äì200 MXN ¬∑ Multiple stalls</div>
            </div>
            <div class="reddit-tip">"The tostada stands at San Juan are worth it alone. Get the big one with yellow walls and orange lettering ‚Äî the tuna tostada changed my life."<cite>‚Äî r/MexicoCity, 340 upvotes</cite></div>
        </div>

        <div class="time-block">
            <div class="time-label">üåô Evening ‚Äî Rooftop Views &amp; Late-Night Tacos</div>
            <h3>Mezcal, Views &amp; Los Cocuyos</h3>
            <p>Head to Balc√≥n del Z√≥calo for sunset drinks on the terrace overlooking the cathedral and the lit-up Z√≥calo. Then walk to Los Cocuyos, the legendary late-night taco stand that's been serving beef tongue, tripe, and suadero since the 1950s.</p>
            <div class="meal-card">
                <div class="meal-type">DRINKS</div>
                <div class="meal-name">Balc√≥n del Z√≥calo</div>
                <div class="meal-desc">Rooftop terrace at the Z√≥calo Central hotel. Mezcal cocktails with a view of the cathedral. Go at sunset.</div>
                <div class="meal-meta">$150‚Äì300 MXN/cocktail ¬∑ Av. 5 de Mayo 61, Centro</div>
            </div>
            <div class="meal-card">
                <div class="meal-type">LATE-NIGHT TACOS</div>
                <div class="meal-name">Los Cocuyos</div>
                <div class="meal-desc">Iconic street-side taco stand. Order suadero (slow-cooked beef brisket) and lengua (tongue). The green salsa is nuclear ‚Äî you've been warned.</div>
                <div class="meal-meta">$15‚Äì25 MXN/taco ¬∑ Bol√≠var 56, Centro Hist√≥rico</div>
            </div>
            <div class="reddit-tip">"Los Cocuyos ‚Äî go there for beef tongue and tripe. Some of the best tacos in Mexico City, no question."<cite>‚Äî r/finedining, 280 upvotes</cite></div>
        </div>

        <div id="map-day1" class="day-map"></div>
    </div>

    <!-- DAY 2 -->
    <div class="day" id="day2">
        <div class="day-header">
            <span class="day-num">Day 2</span>
            <span class="day-neighborhoods">Roma Norte ¬∑ Condesa</span>
        </div>
        <h2>Coffee, Art Deco &amp; Al Pastor</h2>
        <p style="color:var(--text-muted);margin-bottom:2rem;">Today you explore Mexico City's trendiest neighborhoods ‚Äî tree-lined streets, world-class restaurants, and the best al pastor trompo in the city.</p>

        <div class="time-block">
            <div class="time-label">üåÖ Morning ‚Äî Specialty Coffee &amp; Strolling</div>
            <h3>Roma Norte Coffee Culture</h3>
            <p>Start with coffee at Chiquitito Caf√©, a tiny beloved spot in Roma Norte, then stroll down tree-lined √Ålvaro Obreg√≥n with its sculptures and fountains. Pop into Librer√≠a Rosario Castellanos (a gorgeous two-story bookshop) and explore the side streets ‚Äî Roma Norte rewards wanderers.</p>
            <div class="spot-detail">üìç √Ålvaro Obreg√≥n ‚Äî Roma Norte's main boulevard</div>
            <div class="meal-card">
                <div class="meal-type">BREAKFAST</div>
                <div class="meal-name">Lalo!</div>
                <div class="meal-desc">Beloved brunch institution in Roma Norte. The ricotta hotcakes are iconic. Expect a 20‚Äì30 min wait on weekends ‚Äî worth it.</div>
                <div class="meal-meta">$150‚Äì250 MXN ¬∑ Zacatecas 173, Roma Norte</div>
            </div>
            <div class="tip">Lalo! doesn't take reservations. Arrive by 9:30am or after 11:30am to avoid the worst of the line.</div>
        </div>

        <div class="time-block">
            <div class="time-label">‚òÄÔ∏è Afternoon ‚Äî Parque M√©xico &amp; Condesa</div>
            <h3>Art Deco Architecture &amp; Park Life</h3>
            <p>Walk into Condesa and spend the afternoon wandering Parque M√©xico ‚Äî watch the dogs, sit by the fountain, admire the Art Deco buildings along Avenida M√©xico. Stop at Churrer√≠a El Moro for churros and hot chocolate (a 90-year-old chain that's still perfect).</p>
            <div class="spot-detail">üìç Parque M√©xico ‚Äî Condesa</div>
            <div class="meal-card">
                <div class="meal-type">SNACK</div>
                <div class="meal-name">Churrer√≠a El Moro</div>
                <div class="meal-desc">Churros since 1935. Get the combo: 4 churros + a cup of Spanish hot chocolate. Simple, perfect, life-changing.</div>
                <div class="meal-meta">$80‚Äì120 MXN ¬∑ Multiple locations (Condesa: Tamaulipas 87)</div>
            </div>
            <div class="meal-card">
                <div class="meal-type">LUNCH</div>
                <div class="meal-name">Contramar</div>
                <div class="meal-desc">Possibly CDMX's most famous restaurant. The tuna tostadas and the red-and-green grilled whole fish (pescado a la talla) are legendary. No reservations ‚Äî arrive at 13:30 sharp.</div>
                <div class="meal-meta">$400‚Äì700 MXN/person ¬∑ Calle de Durango 200, Roma Norte</div>
            </div>
            <div class="reddit-tip">"Contramar is not overhyped. The fish is genuinely one of the best things I've ever eaten. Go at opening ‚Äî by 14:00 the wait is 2 hours."<cite>‚Äî r/MexicoCity, 620 upvotes</cite></div>
        </div>

        <div class="time-block">
            <div class="time-label">üåô Evening ‚Äî Al Pastor Pilgrimage</div>
            <h3>The Al Pastor Trompo Trail</h3>
            <p>Tonight is about one thing: finding your al pastor soulmate. Start at Taquer√≠a Orinoco for a fun, lively atmosphere and excellent pastor. Then walk to El Vilsito ‚Äî a mechanic shop by day, taco stand by night. This is the real CDMX experience.</p>
            <div class="meal-card">
                <div class="meal-type">DINNER ‚Äî TACOS</div>
                <div class="meal-name">Taquer√≠a Orinoco</div>
                <div class="meal-desc">Monterrey-style tacos with incredible al pastor. The pirata (flour tortilla stuffed with beans, cheese, and pastor) is addictive. Great late-night energy.</div>
                <div class="meal-meta">$60‚Äì120 MXN ¬∑ Insurgentes Sur 253, Roma Norte</div>
            </div>
            <div class="meal-card">
                <div class="meal-type">LATE-NIGHT TACOS</div>
                <div class="meal-name">El Vilsito</div>
                <div class="meal-desc">Mechanic shop by day ‚Üí taco stand by night. The al pastor here is elite. Opens at 20:30, expect a line by 22:00.</div>
                <div class="meal-meta">$15‚Äì30 MXN/taco ¬∑ Av. Universidad 248, Narvarte</div>
            </div>
            <div class="tip">El Vilsito's transformation happens around 20:30. The car bays literally become the kitchen. It's surreal and delicious.</div>
        </div>

        <div id="map-day2" class="day-map"></div>
    </div>

    <!-- DAY 3 -->
    <div class="day" id="day3">
        <div class="day-header">
            <span class="day-num">Day 3</span>
            <span class="day-neighborhoods">Coyoac√°n ¬∑ Xochimilco</span>
        </div>
        <h2>Frida, Floating Gardens &amp; Pulque</h2>
        <p style="color:var(--text-muted);margin-bottom:2rem;">Adventure day ‚Äî you'll visit Frida Kahlo's blue house, float through ancient Aztec canals on a trajinera, and discover the bohemian soul of Coyoac√°n.</p>

        <div class="time-block">
            <div class="time-label">üåÖ Morning ‚Äî Casa Azul &amp; Coyoac√°n</div>
            <h3>Frida Kahlo Museum &amp; Mercado de Coyoac√°n</h3>
            <p>Book your Casa Azul (Frida Kahlo Museum) tickets online in advance ‚Äî they sell out. The blue house is intimate and moving. After, wander the cobblestone streets of Coyoac√°n to the Mercado de Coyoac√°n for tostadas and fresh juices. Don't miss the Jard√≠n Centenario plaza with its coyote fountain.</p>
            <div class="spot-detail">üìç Casa Azul ‚Äî Londres 247, Coyoac√°n</div>
            <div class="spot-detail">üéüÔ∏è Tickets: $250 MXN (~$14 USD) ‚Äî book at museofridakahlo.org.mx</div>
            <div class="meal-card">
                <div class="meal-type">BREAKFAST</div>
                <div class="meal-name">Los Danzantes ‚Äî Coyoac√°n</div>
                <div class="meal-desc">Beautiful courtyard restaurant on the plaza. Great chilaquiles, Mexican eggs, and mezcal cocktails (yes, even at breakfast).</div>
                <div class="meal-meta">$200‚Äì350 MXN ¬∑ Jard√≠n Centenario 12, Coyoac√°n</div>
            </div>
            <div class="tip">Book Frida Kahlo Museum tickets at least 2 weeks ahead. First entry slot (10am) is least crowded.</div>
        </div>

        <div class="time-block">
            <div class="time-label">‚òÄÔ∏è Afternoon ‚Äî Xochimilco Floating Gardens</div>
            <h3>Trajinera Ride on Ancient Canals</h3>
            <p>Uber to Xochimilco's Embarcadero Nativitas. Hire a trajinera (colorful flat-bottom boat) and float through the canals ‚Äî vendors in smaller boats will come to you selling corn, beer, flowers, and even mariachi. This is pure magic. Budget 2‚Äì3 hours.</p>
            <div class="spot-detail">üìç Embarcadero Nativitas ‚Äî Xochimilco</div>
            <div class="spot-detail">üí∞ Trajinera: ~$500 MXN/boat/hour (fits 15‚Äì20 people)</div>
            <div class="meal-card">
                <div class="meal-type">LUNCH ‚Äî ON THE WATER</div>
                <div class="meal-name">Floating Vendors at Xochimilco</div>
                <div class="meal-desc">Buy elotes (corn), tlayudas, and micheladas from boats that pull up alongside yours. Bring extra cash and a sense of adventure.</div>
                <div class="meal-meta">$50‚Äì150 MXN ¬∑ Various floating vendors</div>
            </div>
            <div class="reddit-tip">"Xochimilco on a weekday is a completely different experience ‚Äî peaceful, uncrowded, genuinely magical. Weekends are a party (fun too, but different)."<cite>‚Äî r/MexicoCity, 410 upvotes</cite></div>
        </div>

        <div class="time-block">
            <div class="time-label">üåô Evening ‚Äî Pulquer√≠a &amp; Mezcal</div>
            <h3>Pulque &amp; Coyoac√°n Nightlife</h3>
            <p>Head back to Coyoac√°n for the evening. Visit La Bipo, a lively pulquer√≠a where you can try curados (fruit-flavored pulque). Then for a more refined nightcap, try Pare de Sufrir ‚Äî a mezcaler√≠a hidden behind an unmarked door.</p>
            <div class="meal-card">
                <div class="meal-type">DINNER</div>
                <div class="meal-name">Coraz√≥n de Maguey</div>
                <div class="meal-desc">Modern Oaxacan cuisine in a gorgeous setting. Try the tlayuda and the mole negro ‚Äî pair with a smoky mezcal flight.</div>
                <div class="meal-meta">$300‚Äì500 MXN/person ¬∑ Jard√≠n Centenario 9A, Coyoac√°n</div>
            </div>
            <div class="meal-card">
                <div class="meal-type">DRINKS</div>
                <div class="meal-name">La Bipo</div>
                <div class="meal-desc">Legendary pulquer√≠a. Try the curado de guayaba (guava pulque). Cheap, loud, authentically Mexican.</div>
                <div class="meal-meta">$30‚Äì60 MXN/glass ¬∑ Multiple locations</div>
            </div>
        </div>

        <div id="map-day3" class="day-map"></div>
    </div>

    <!-- DAY 4 -->
    <div class="day" id="day4">
        <div class="day-header">
            <span class="day-num">Day 4</span>
            <span class="day-neighborhoods">Chapultepec ¬∑ Polanco</span>
        </div>
        <h2>Museum, Castle &amp; Farewell Feast</h2>
        <p style="color:var(--text-muted);margin-bottom:2rem;">Your final day mixes world-class culture with upscale dining ‚Äî the Anthropology Museum, Chapultepec Castle, and Polanco's best restaurants.</p>

        <div class="time-block">
            <div class="time-label">üåÖ Morning ‚Äî Museo Nacional de Antropolog√≠a</div>
            <h3>The World's Greatest Anthropology Museum</h3>
            <p>This is Mexico's most-visited museum for good reason. The Aztec Sun Stone, the Maya jade masks, the Olmec heads ‚Äî it's overwhelming in the best way. Focus on the Mexica (Aztec) and Maya halls if you're short on time. Budget 2‚Äì3 hours minimum.</p>
            <div class="spot-detail">üìç Museo Nacional de Antropolog√≠a ‚Äî Chapultepec</div>
            <div class="spot-detail">üéüÔ∏è $95 MXN (~$5.50 USD) ¬∑ Free on Sundays for residents</div>
            <div class="meal-card">
                <div class="meal-type">BREAKFAST</div>
                <div class="meal-name">Ojo de Agua</div>
                <div class="meal-desc">Fresh juices and massive healthy portions. Great a√ßa√≠ bowls, egg dishes, and their green juice is the best hangover cure in CDMX.</div>
                <div class="meal-meta">$120‚Äì200 MXN ¬∑ Multiple locations (Polanco: Av. Presidente Masaryk 340)</div>
            </div>
            <div class="tip">Arrive when the museum opens at 9am. By 11am, tour groups flood in. The Mexica hall is the crown jewel ‚Äî don't rush it.</div>
        </div>

        <div class="time-block">
            <div class="time-label">‚òÄÔ∏è Afternoon ‚Äî Chapultepec Castle &amp; Polanco</div>
            <h3>Castle Views &amp; Upscale Strolling</h3>
            <p>Walk uphill to Chapultepec Castle ‚Äî the only royal castle in the Americas. The panoramic views of Paseo de la Reforma and the city are incredible. Then stroll through Polanco's leafy streets ‚Äî window-shop on Av. Presidente Masaryk and visit Museo Soumaya (free, incredible art collection in a futuristic building).</p>
            <div class="spot-detail">üìç Castillo de Chapultepec</div>
            <div class="spot-detail">üéüÔ∏è $95 MXN ¬∑ Closed Mondays</div>
            <div class="meal-card">
                <div class="meal-type">LUNCH</div>
                <div class="meal-name">Quintonil</div>
                <div class="meal-desc">One of the World's 50 Best Restaurants. Chef Jorge Vallejo's tasting menu showcases modern Mexican cuisine with indigenous ingredients. Worth the splurge for your final day.</div>
                <div class="meal-meta">$1,500‚Äì2,500 MXN/person ¬∑ Av. Isaac Newton 55, Polanco</div>
            </div>
            <div class="meal-card">
                <div class="meal-type">ALTERNATIVE LUNCH</div>
                <div class="meal-name">Pujol</div>
                <div class="meal-desc">Enrique Olvera's legendary restaurant. The mole madre (two moles, new and aged) is a bucket-list dish. Book weeks ahead.</div>
                <div class="meal-meta">$2,000‚Äì3,500 MXN/person ¬∑ Tennyson 133, Polanco</div>
            </div>
        </div>

        <div class="time-block">
            <div class="time-label">üåô Evening ‚Äî Farewell Feast</div>
            <h3>Last Night in CDMX</h3>
            <p>For your final evening, head back to Roma for one last walk. End at Esquina Com√∫n, a magical rooftop dining experience in Condesa ‚Äî or keep it casual with one more round of al pastor at your new favorite taquer√≠a.</p>
            <div class="meal-card">
                <div class="meal-type">FAREWELL DINNER</div>
                <div class="meal-name">Esquina Com√∫n</div>
                <div class="meal-desc">A rooftop terrace hidden in Condesa. Started as a secret pop-up and became one of the city's most unique dining experiences. Mexican flavors, seasonal menu, beautiful vibes.</div>
                <div class="meal-meta">$500‚Äì900 MXN/person ¬∑ Condesa (address shared upon reservation)</div>
            </div>
            <div class="meal-card">
                <div class="meal-type">NIGHTCAP</div>
                <div class="meal-name">Licorer√≠a Limantour</div>
                <div class="meal-desc">Regularly on the World's 50 Best Bars list. Creative cocktails in a buzzy Roma Norte setting. Try anything with mezcal.</div>
                <div class="meal-meta">$180‚Äì280 MXN/cocktail ¬∑ √Ålvaro Obreg√≥n 106, Roma Norte</div>
            </div>
            <div class="reddit-tip">"Limantour is worth the hype. Go on a Tuesday or Wednesday to actually get a seat without waiting an hour."<cite>‚Äî r/MexicoCity, 380 upvotes</cite></div>
        </div>

        <div id="map-day4" class="day-map"></div>
    </div>

    <!-- BUDGET -->
    <div class="day" id="budget" style="border-top-color: var(--terracotta);">
        <h2 style="margin-bottom:1rem;">üí∞ Budget Breakdown (per person, per day)</h2>
        <div class="budget-table-wrapper"><table class="budget-table">
            <thead><tr><th>Category</th><th>Budget</th><th>Mid-Range</th><th>Splurge</th></tr></thead>
            <tbody>
                <tr><td>üçΩÔ∏è Food &amp; Drinks</td><td>$20 USD</td><td>$45 USD</td><td>$90 USD</td></tr>
                <tr><td>üöï Transport (Uber/Metro)</td><td>$5 USD</td><td>$10 USD</td><td>$18 USD</td></tr>
                <tr><td>üéüÔ∏è Attractions</td><td>$8 USD</td><td>$15 USD</td><td>$25 USD</td></tr>
                <tr><td>üç∫ Nightlife</td><td>$5 USD</td><td>$15 USD</td><td>$30 USD</td></tr>
                <tr><td><strong>TOTAL/DAY</strong></td><td><strong>$38 USD</strong></td><td><strong>$85 USD</strong></td><td><strong>$163 USD</strong></td></tr>
            </tbody>
        </table></div>
        <p style="font-size:0.85rem;color:var(--text-muted);margin-top:0.5rem;">* Excludes accommodation. Budget hotels/Airbnbs in Roma or Condesa run $40‚Äì80/night. Boutique hotels $100‚Äì200/night.</p>
    </div>

    <!-- PRACTICAL INFO -->
    <div style="background:var(--warm-cream);border-radius:14px;padding:2rem;margin:2rem 0 3rem;border:1px solid var(--sand);" id="practical">
        <h2 style="font-size:1.2rem;color:var(--indigo);margin-bottom:1rem;">üìã Pro Tips &amp; Practical Info</h2>

        <h3 style="font-size:1rem;color:var(--terracotta);margin:1.5rem 0 0.5rem;">üöá Getting Around</h3>
        <ul style="list-style:none;font-size:0.9rem;color:var(--text-muted);">
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ <strong>Uber/Didi</strong> are your best friends. Cheap, safe, AC. Most rides within Roma/Condesa/Centro are $2‚Äì5 USD.</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ <strong>Metro</strong> is $5 MXN ($0.30 USD) per ride ‚Äî great for longer distances, but avoid rush hour (7‚Äì9am, 5‚Äì7pm). Watch your belongings.</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ <strong>Walking</strong> is the best way to explore Roma, Condesa, and Centro Hist√≥rico. Very walkable neighborhoods.</li>
        </ul>

        <h3 style="font-size:1rem;color:var(--terracotta);margin:1.5rem 0 0.5rem;">üí∞ Tipping Guide</h3>
        <ul style="list-style:none;font-size:0.9rem;color:var(--text-muted);">
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ <strong>Restaurants:</strong> 10‚Äì15% is standard. 15‚Äì20% for exceptional service.</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ <strong>Street food:</strong> No tip expected, but rounding up is kind.</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ <strong>Uber:</strong> Tipping through the app is appreciated but not expected.</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ <strong>Propina jars:</strong> You'll see tip jars everywhere ‚Äî a few coins is fine.</li>
        </ul>

        <h3 style="font-size:1rem;color:var(--terracotta);margin:1.5rem 0 0.5rem;">üîí Safety</h3>
        <ul style="list-style:none;font-size:0.9rem;color:var(--text-muted);">
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ Roma, Condesa, Polanco, Coyoac√°n, and Centro Hist√≥rico are all safe for tourists. Use normal big-city awareness.</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ Don't flash expensive jewelry or large amounts of cash.</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ Use ATMs inside banks, not on the street.</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ Uber is safer than street-hailed taxis (always use app-based rides at night).</li>
        </ul>

        <h3 style="font-size:1rem;color:var(--terracotta);margin:1.5rem 0 0.5rem;">üå°Ô∏è Weather in May</h3>
        <ul style="list-style:none;font-size:0.9rem;color:var(--text-muted);">
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ Highs of 26‚Äì28¬∞C (79‚Äì82¬∞F). Warm and pleasant.</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ Late May is the start of rainy season ‚Äî expect afternoon showers (bring a light rain jacket).</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ Mornings are cool. Evenings are gorgeous for walking.</li>
        </ul>

        <h3 style="font-size:1rem;color:var(--terracotta);margin:1.5rem 0 0.5rem;">üì± Useful Apps</h3>
        <ul style="list-style:none;font-size:0.9rem;color:var(--text-muted);">
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ <strong>Uber / Didi</strong> ‚Äî Rides</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ <strong>Google Maps</strong> ‚Äî Navigation (works great in CDMX)</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ <strong>Google Translate</strong> ‚Äî Camera mode for menus</li>
            <li style="margin-bottom:0.6rem;padding-left:1.5rem;">‚Ä¢ <strong>Rappi</strong> ‚Äî Food delivery (the Mexican DoorDash)</li>
        </ul>
    </div>

</div>
</div>

<section class="final-cta">
    <h2>Love this format? Get your own.</h2>
    <p>Every tabiji itinerary is custom-built from real traveler intelligence ‚Äî specific restaurants, actual addresses, local timing tricks.</p>
    <a href="/plan" class="cta-btn">Get Your Free Custom Itinerary</a>
    <p class="sub">Delivered within 24 hours. 2 free revisions. 100% satisfaction guaranteed.</p>
</section>

<footer>
    <p>¬© 2026 tabiji.ai. All rights reserved. ÊóÖË∑Ø ‚Äî Every journey begins with a single step. ¬∑ <a href="/terms/" style="color: inherit; text-decoration: underline;">Terms of Service</a> ¬∑ <a href="/privacy/" style="color: inherit; text-decoration: underline;">Privacy Policy</a></p>
</footer>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBP0yidMjJEECgkIiZz2lw1NLsQ7jdASYc"></script>
<script>
(function() {
    var colors = {
        temple: '#c0392b', food: '#d35400', shopping: '#2471a3',
        park: '#27ae60', nightlife: '#7d3c98', attraction: '#b7950b', art: '#c2185b'
    };
    var catLabels = {
        temple: 'Temple', food: 'Food', shopping: 'Shopping',
        park: 'Park', nightlife: 'Nightlife', attraction: 'Attraction', art: 'Art'
    };
    var catBgColors = {
        temple: '#fde8e8', food: '#fef0e7', shopping: '#e8f0fe',
        park: '#e8f5e8', nightlife: '#f0e8fe', attraction: '#fef9e7', art: '#fce4ec'
    };

    function makeSVGIcon(cat, num) {
        var c = colors[cat] || '#2D3A5C';
        var label = num != null ? num : '';
        var svg = 'data:image/svg+xml,' + encodeURIComponent(
            '<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32">' +
            '<circle cx="16" cy="16" r="14" fill="' + c + '" stroke="white" stroke-width="3"/>' +
            '<text x="16" y="21" text-anchor="middle" font-size="13" font-weight="700" fill="white" font-family="Arial,sans-serif">' + label + '</text>' +
            '</svg>'
        );
        return { url: svg, scaledSize: new google.maps.Size(32, 32), anchor: new google.maps.Point(16, 16) };
    }

    function initMap(id, pins) {
        var el = document.getElementById(id);
        if (!el) return;
        var map = new google.maps.Map(el, {
            mapTypeControl: false,
            streetViewControl: false,
            fullscreenControl: false,
            styles: [
                { featureType: 'poi', elementType: 'labels', stylers: [{ visibility: 'off' }] }
            ]
        });
        var bounds = new google.maps.LatLngBounds();
        var infoWindow = new google.maps.InfoWindow();
        pins.forEach(function(p, i) {
            var pos = { lat: p.lat, lng: p.lng };
            var marker = new google.maps.Marker({
                position: pos, map: map,
                icon: makeSVGIcon(p.cat, i + 1),
                title: p.name
            });
            bounds.extend(pos);
            var linkHtml = '<a href="https://www.google.com/maps/search/?api=1&query=' + p.lat + ',' + p.lng + '" target="_blank" rel="noopener" style="font-size:0.75rem;color:#1a73e8;text-decoration:none;">View on Google Maps ‚Üí</a>';
            var content = '<div style="font-family:-apple-system,BlinkMacSystemFont,sans-serif;font-size:0.85rem;line-height:1.4;max-width:220px;">' +
                '<span style="display:inline-block;font-size:0.7rem;font-weight:600;text-transform:uppercase;letter-spacing:0.05em;padding:0.15rem 0.5rem;border-radius:100px;margin-bottom:0.3rem;background:' + (catBgColors[p.cat]||'#eee') + ';color:' + (colors[p.cat]||'#333') + ';">' + (catLabels[p.cat]||'Place') + '</span><br>' +
                '<strong style="color:#2D3A5C;">' + p.name + '</strong>' +
                '<div style="margin:0.15rem 0 0.3rem;">' + p.desc + '</div>' + linkHtml + '</div>';
            marker.addListener('click', function() {
                infoWindow.setContent(content);
                infoWindow.open(map, marker);
            });
        });
        map.fitBounds(bounds, 40);
    }

    // Day 1: Centro Hist√≥rico
    initMap('map-day1', [
        {lat:19.4326,lng:-99.1332,name:"Z√≥calo",cat:"attraction",desc:"Main plaza of Mexico City"},
        {lat:19.4353,lng:-99.1314,name:"Templo Mayor",cat:"temple",desc:"Aztec main temple ruins"},
        {lat:19.4360,lng:-99.1339,name:"Palacio Nacional",cat:"attraction",desc:"Diego Rivera murals"},
        {lat:19.4352,lng:-99.1413,name:"Palacio de Bellas Artes",cat:"art",desc:"Art Nouveau/Deco masterpiece"},
        {lat:19.4303,lng:-99.1446,name:"Mercado San Juan",cat:"food",desc:"Gourmet market ‚Äî seafood tostadas"},
        {lat:19.4355,lng:-99.1380,name:"Caf√© de Tacuba",cat:"food",desc:"Iconic breakfast since 1912"},
        {lat:19.4338,lng:-99.1332,name:"Balc√≥n del Z√≥calo",cat:"nightlife",desc:"Rooftop mezcal bar"},
        {lat:19.4340,lng:-99.1370,name:"Los Cocuyos",cat:"food",desc:"Legendary late-night taco stand"}
    ]);

    // Day 2: Roma ¬∑ Condesa
    initMap('map-day2', [
        {lat:19.4195,lng:-99.1607,name:"Lalo!",cat:"food",desc:"Beloved brunch spot"},
        {lat:19.4180,lng:-99.1640,name:"√Ålvaro Obreg√≥n",cat:"attraction",desc:"Tree-lined Roma Norte boulevard"},
        {lat:19.4109,lng:-99.1710,name:"Parque M√©xico",cat:"park",desc:"Art Deco park in Condesa"},
        {lat:19.4115,lng:-99.1695,name:"Churrer√≠a El Moro",cat:"food",desc:"Churros since 1935"},
        {lat:19.4205,lng:-99.1660,name:"Contramar",cat:"food",desc:"Iconic seafood restaurant"},
        {lat:19.4172,lng:-99.1576,name:"Taquer√≠a Orinoco",cat:"food",desc:"Monterrey-style al pastor"},
        {lat:19.3990,lng:-99.1620,name:"El Vilsito",cat:"food",desc:"Mechanic shop ‚Üí taco stand"},
        {lat:19.4200,lng:-99.1625,name:"Licorer√≠a Limantour",cat:"nightlife",desc:"World's 50 Best Bars"}
    ]);

    // Day 3: Coyoac√°n ¬∑ Xochimilco
    initMap('map-day3', [
        {lat:19.3558,lng:-99.1627,name:"Casa Azul (Frida Kahlo Museum)",cat:"art",desc:"Frida's blue house"},
        {lat:19.3501,lng:-99.1623,name:"Jard√≠n Centenario",cat:"park",desc:"Main plaza of Coyoac√°n"},
        {lat:19.3505,lng:-99.1610,name:"Los Danzantes",cat:"food",desc:"Courtyard dining on the plaza"},
        {lat:19.3497,lng:-99.1615,name:"Coraz√≥n de Maguey",cat:"food",desc:"Modern Oaxacan cuisine"},
        {lat:19.2635,lng:-99.1040,name:"Embarcadero Nativitas",cat:"attraction",desc:"Xochimilco trajinera boats"},
        {lat:19.3510,lng:-99.1580,name:"La Bipo",cat:"nightlife",desc:"Legendary pulquer√≠a"}
    ]);

    // Day 4: Chapultepec ¬∑ Polanco
    initMap('map-day4', [
        {lat:19.4260,lng:-99.1862,name:"Museo Nacional de Antropolog√≠a",cat:"attraction",desc:"World-class anthropology museum"},
        {lat:19.4205,lng:-99.1817,name:"Castillo de Chapultepec",cat:"attraction",desc:"Only royal castle in the Americas"},
        {lat:19.4400,lng:-99.2043,name:"Museo Soumaya",cat:"art",desc:"Free art museum, futuristic building"},
        {lat:19.4320,lng:-99.1930,name:"Ojo de Agua",cat:"food",desc:"Fresh juices & healthy brunch"},
        {lat:19.4328,lng:-99.1935,name:"Quintonil",cat:"food",desc:"World's 50 Best ‚Äî modern Mexican"},
        {lat:19.4355,lng:-99.1945,name:"Pujol",cat:"food",desc:"Enrique Olvera's legendary restaurant"},
        {lat:19.4130,lng:-99.1700,name:"Esquina Com√∫n",cat:"food",desc:"Hidden rooftop in Condesa"},
        {lat:19.4200,lng:-99.1625,name:"Licorer√≠a Limantour",cat:"nightlife",desc:"World's 50 Best cocktail bar"}
    ]);
})();
</script>

<script>
(function() {
    var links = document.querySelectorAll('.toc-sidebar a[data-section]');
    var sections = [];
    links.forEach(function(link) {
        var id = link.getAttribute('data-section');
        var el = document.getElementById(id);
        if (el) sections.push({ id: id, el: el, link: link });
    });
    if (!sections.length) return;
    function update() {
        var scrollY = window.scrollY + 120;
        var current = sections[0];
        for (var i = 0; i < sections.length; i++) {
            if (sections[i].el.offsetTop <= scrollY) current = sections[i];
        }
        links.forEach(function(l) { l.classList.remove('active'); });
        current.link.classList.add('active');
    }
    window.addEventListener('scroll', update, { passive: true });
    update();
})();
</script>
<script>
(function() {
    var mobileLinks = document.querySelectorAll('.toc-mobile-dropdown a[data-section]');
    var mobileSections = [];
    mobileLinks.forEach(function(link) {
        var id = link.getAttribute('data-section');
        var el = document.getElementById(id);
        if (el) mobileSections.push({ id: id, el: el, link: link });
    });
    var activeLabel = document.querySelector('.toc-active-label');
    function updateMobile() {
        if (!mobileSections.length) return;
        var scrollY = window.scrollY + 120;
        var current = mobileSections[0];
        for (var i = 0; i < mobileSections.length; i++) {
            if (mobileSections[i].el.offsetTop <= scrollY) current = mobileSections[i];
        }
        mobileLinks.forEach(function(l) { l.classList.remove('active'); });
        current.link.classList.add('active');
        if (activeLabel) activeLabel.textContent = 'üìç ' + current.link.textContent.trim();
    }
    window.addEventListener('scroll', updateMobile, { passive: true });
    updateMobile();

    var sticky = document.querySelector('.toc-mobile-sticky');
    var toggle = document.querySelector('.toc-mobile-toggle');
    if (toggle && sticky) {
        toggle.addEventListener('click', function() {
            sticky.classList.toggle('open');
            toggle.setAttribute('aria-expanded', sticky.classList.contains('open'));
        });
        mobileLinks.forEach(function(link) {
            link.addEventListener('click', function() {
                sticky.classList.remove('open');
                toggle.setAttribute('aria-expanded', 'false');
            });
        });
    }
})();
</script>
</body>
</html>